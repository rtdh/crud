<%- include('partials/header') %>
<div class="container" style="width: 30%;margin: 0 auto">
	<div class="row">
				
		<h2 class="text-center m-3" style="width:100%">Create New Blog</h2>
		<div class="form-group">
					<img id="image">
					<div class="text-center" id="imagePreview"></div>
				</div>	
		<div class="col-sm-12 col-md-12 col-lg-12">
			<form action="/blogs" method="POST" enctype="multipart/form-data">
				<div class="form-group">
					<input class="form-control" type="text" name='blog[title]' placeholder='Enter Blog name'>
				</div>
				<div class="form-group">
					<input class="form-control" type="file" id="file" name="image" accept="image/*" required>
				</div>
				<div class="form-group">
					<input class="form-control" type="text" name='blog[body]' placeholder='Enter Blog description'>
				</div>
				<div class="form-group">
					<button class="form-conrol btn btn-primary btn-block">Submit</button>
				</div>
				<a href="/blogs">Go Back</a>
			</form>
		</div>
	</div>	
</div>


<script>
		var image = document.getElementById('image');
		var file = document.getElementById('file');
		var imagePreview = document.getElementById('imagePreview');
		file.addEventListener('change', function(){
			const file = this.files[0];
				console.log(file)
				if (file){
				image.style.display = "block";
				imagePreview.style.display = "none";
				
				const reader = new FileReader();
				reader.addEventListener('load', function(){
					image.src = this.result;
				})
				reader.readAsDataURL(file);
			}
		})	
</script>
<%- include('partials/footer') %>

